stages:
  - build
  - test

build:
  stage: build
  script:
    - 'test -f frontend/index.html'
    - echo "Phase 1 CI"

# test:
#   stage: test
#   image: node:20
#   before_script:
#     - cd frontend
#     # The .npmrc file will handle the legacy-peer-deps automatically
#     - npm install
#   script:
#     - npm run test:ci-simple
#     - echo "Test verification complete"

# test_selenium:
#   stage: test
#   image: python:3.9-slim
#   before_script:
#     - apt-get update && apt-get install -y wget curl unzip gnupg
#     - apt-get install -y chromium # Install Chromium (the browser)
#     - wget https://chromedriver.storage.googleapis.com/114.0.5735.90/chromedriver_linux64.zip  # Download the matching ChromeDriver version
#     - unzip chromedriver_linux64.zip
#     - mv chromedriver /usr/local/bin/
#     - chmod +x /usr/local/bin/chromedriver
#     - cd frontend/selenium_tests  # Navigate to your selenium test directory
#     - pip install --upgrade pip  # Ensure pip is the latest version
#     - pip install -r requirements.txt  # Install dependencies like pytest, selenium, etc.
#   script:
#     - pytest selenium_test.py # Run the tests with pytest




test_postman:
    stage: test
    image: 
      name: postman/newman:alpine
      entrypoint: [""]
    before_script:
      - cd backend
    script:
      - newman run wildwareness_api.json



